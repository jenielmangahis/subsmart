/*! Naurix Form-Builder v1.0.0  */
"use strict";var main_row="<div class=\"row cb_layer_box\">\n\t<div class=\"col-sm-12 removable\">\n\t\t<span class=\"on_minimize\"></span>\n\t\t<span class=\"pull-right win_control\">\n\t\t\t<span class=\"cb_move_btn move_bar\" style=\"color: #222\" title=\"Move\">\n\t\t\t\t<i class=\"fa fa-arrows\"></i>\n\t\t\t</span>\n\t\t\t<span class=\"copy_btn\" data-copy-txt=\"main\" title=\"Copy\">\n\t\t\t\t<i class=\"fa fa-copy\"></i>\n\t\t\t</span>\n\t\t\t<span class=\"minimize_btn\" data-minimize-txt=\"main\" title=\"Minimize\">\n\t\t\t\t<i class=\"fa fa-minus\"></i>\n\t\t\t</span>\n\t\t\t<span class=\"remove_btn\" data-remove-txt=\"main\" title=\"Remove\">\n\t\t\t\t<i class=\"fa fa-close\"></i>\n\t\t\t</span>\n\t\t</span>\n\t</div>\n\n\t<div class=\"col-sm-12 minimize_box\">\n\t\t<!-- Drag bar -->\n\t\t<span class=\"side_move_bar cb_move_btn removable\">\n\t\t\t<i class=\"fa fa-bars\"></i>\n\t\t</span>\n\t\t\n\t\t<div class=\"cb_display_box no-drag\">\n\n\t\t\t<div class=\"no-drag cb_inner_layer_box\">\n\t\t\t\t<div class=\"content-edit\">\n\t\t\t\t\t<h2 class=\"group_title\" contenteditable=\"\">Group title [edit]</h2>\n\t\t\t\t\t<div class=\"desc_box\">\n\t\t\t\t\t\t<span class=\"add_desc_btn removable\">\n\t\t\t\t\t\t\t<i class=\"fa fa-pencil\"></i> Add Description\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class=\"add_desc_box\">\n\t\t\t\t\t\t\t<span contenteditable=\"\">-- Description text here [edit]</span>\n\t\t\t\t\t\t\t<span class=\"remove_btn\" data-remove-txt=\"heading\">\n\t\t\t\t\t\t\t\t<i class=\"fa fa-close\"></i>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"inner_row_append_box\"></div>\n\t\t\t</div>\n\n\t\t\t<!-- row btn -->\n\t\t\t<div class=\"removable\">\n\t\t\t\t<a href=\"#\" class=\"btn btn-info btn_round inner_row_btn\">\n\t\t\t\t\t<i class=\"fa fa-plus\"></i> Add Row\n\t\t\t\t</a>\n\t\t\t</div><!-- end row btn -->\n\t\t</div>\n\t</div>\n</div>",inner_row="<div class=\"no-drag inner_col__box\">\t\t\t\t\t\t\t\t\t\n\t<!-- Control btn -->\n\t<div class=\"handle_bar removable\">\n\t\t<span class=\"cb_layer_control\">\n\n\t\t\t<select class=\"col_btn\">\n\t\t\t\t<option selected=\"\" disabled=\"\">-- Select Column --</option>\n\t\t\t\t<option value=\"1\">Full Column</option>\n\t\t\t\t<option value=\"2\">2 Column</option>\n\t\t\t\t<option value=\"3\">3 Column</option>\n\t\t\t\t<option value=\"4\">4 Column</option>\n\t\t\t</select>\n\t\t</span>\n\n\t\t<span class=\"pull-right win_control\">\n\t\t\t<span href=\"#\" class=\"copy_btn\" data-copy-txt=\"inner_row\" title=\"Copy\">\n\t\t\t\t<i class=\"fa fa-copy\"></i>\n\t\t\t</span> \n\t\t\t<span class=\"minimize_btn\" data-minimize-txt=\"inner_row\" title=\"Minimize\">\n\t\t\t\t<i class=\"fa fa-minus\"></i>\n\t\t\t</span> \n\t\t\t<span class=\"remove_btn\" data-remove-txt=\"inner_row\" title=\"Remove\">\n\t\t\t\t<i class=\"fa fa-times\"></i>\n\t\t\t</span>\n\t\t</span>\n\t</div><!-- end Control btn -->\n\t\n\t<!-- Form input box -->\n\t<div class=\"row form_row_box\">\n\t</div><!-- Form input box -->\n</div>",form_select_bar="<div class=\"field_box\">\n\t<select class=\"form-control form_field_select removable\">\n\t\t<option selected=\"\" disabled=\"\">-- Select Field --</option>\n\t\t<option value=\"input\">Input</option>\n\t\t<option value=\"textarea\">Textarea</option>\n\t\t<option value=\"select\">Select</option>\n\t\t<option value=\"checkbox\">Checkbox</option>\n\t\t<option value=\"radio\">Radio button</option>\n\t</select>\n\n\t<div class=\"form_field_box\"></div>\n</div>",in_field_edit="<span class=\"pull-right removable\">\n\t<span class=\"in_field_edit\" style=\"color: #aaa\">\n\t\t<i class=\"fa fa-pencil\"></i>\n\t</span>\n\t<span class=\"remove_btn\" data-remove-txt=\"field\">\n\t\t<i class=\"fa fa-close\"></i>\n\t</span>\n</span>";function add_option_temp(f){var g="";return"select"===f&&(g+="<ul class=\"select_list removable\"></ul>"),("checkbox"===f||"radio"===f)&&(g+="<div class=\"select_list\"></div>"),g+="\n\t\t\t<div class=\"input-group select_add_list removable\">\n\t\t\t   <input type=\"text\" class=\"form-control\"  placeholder=\"Add Option\">\n\t\t\t   <span class=\"input-group-addon add_select_option\" title=\"Add\" data-option-text=\""+f+"\">\n\t\t\t   \t<i class=\"fa fa-plus\"></i>\n\t\t\t   </span>\n\t\t\t</div>\n\t\t",g}$("#sortable").sortable({revert:!0,handel:".cb_move_btn",cancel:".no-drag"});var __col_btn=$(".col_btn"),__mr_btn=$(".main_row_btn"),__mr_box=$(".main_row_append_box"),__mr_btn_mini=$(".main_row_minimize"),__generate_btn=$(".generate_btn"),__generate_box=$(".form_generated_box"),__html_btn=$(".html_btn"),__code_box=$(".code_box"),__doc=$(document);function make_column(f){f.preventDefault();var g=$(this).data("col-btn");console.log(g)}function add_main_row(f){f.preventDefault(),__mr_box.append(main_row)}function add_inner_row(f){f.preventDefault();var g=$(this).parents(".cb_display_box:first"),h=g.find(".inner_row_append_box:first");h.append(inner_row)}function add_column(){var f=$(this).parents(".inner_col__box:first"),g=$(this).val(),h="",k="";1==parseInt(g)&&(k="col-sm-12"),2==parseInt(g)&&(k="col-sm-6"),3==parseInt(g)&&(k="col-sm-4"),4==parseInt(g)&&(k="col-sm-3");for(var l=0;l<g;l++)h+="<div class=\""+k+"\">"+form_select_bar+"</div>";var m=f.find(".form_row_box");m.html(h)}function on_select_field(){var f=$(this).val(),g=$(this).parent(".field_box"),h=g.find(".form_field_box");$(this).hide(),h.text("Here");"input"===f?make_input_field(h):"textarea"===f?make_textarea_field(h):"select"===f?make_select_field(h):"checkbox"===f?make_checkbox_field(h):"radio"===f?make_radio_field(h):console.log("Not added")}function make_input_field(f){var g=make_id(6),h="<div class=\"cnt_input_box form-group\">";h+="<label for=\""+g+"\" data-field-type=\"input\" class=\"in_field\">",h+="<span class=\"field_title\" contenteditable>Input Field [edit]</span>",h+=in_field_edit,h+="</label>",h+="<input type=\"text\" name=\""+g+"\" class=\"form-control\" placeholder=\"\">",h+="</div>",f.html(h)}function make_textarea_field(f){var g=make_id(6),h="<div class=\"cnt_input_box form-group\">";h+="<label for=\""+g+"\" data-field-type=\"text\" class=\"in_field\">",h+="<span class=\"field_title\" contenteditable>Note Field [edit]</span>",h+=in_field_edit,h+="</label>",h+="<textarea type=\"text\" name=\""+g+"\" class=\"form-control\" placeholder=\"\"></textarea>",h+="</div>",f.html(h)}function make_select_field(f){var g=make_id(6),h="<div class=\"cnt_input_box form-group\">";h+="<label for=\""+g+"\" data-field-type=\"select\" class=\"in_field\">",h+="<span class=\"field_title\" contenteditable>Select Field [edit]</span>",h+=in_field_edit,h+="</label>",h+=add_option_temp("select"),h+="<select name=\""+g+"\" class=\"form-control hide_box\">",h+="<option disabled=\"\" selected=\"\">-- Select Option --</option>",h+="</select>",h+="</div>",f.html(h)}function make_checkbox_field(f){var g=make_id(6),h="<div class=\"cnt_input_box form-group\">";h+="<label for=\""+g+"\" data-field-type=\"checkbox\" class=\"in_field\">",h+="<span class=\"field_title\" contenteditable>Checkbox Field [edit]</span>",h+=in_field_edit,h+="</label>",h+=add_option_temp("checkbox"),h+="</div>",f.html(h)}function make_radio_field(f){var g=make_id(6),h="<div class=\"cnt_input_box form-group\">";h+="<label for=\""+g+"\" data-field-type=\"radio\" class=\"in_field\">",h+="<span class=\"field_title\" contenteditable>Radio Field [edit]</span>",h+=in_field_edit,h+="</label>",h+=add_option_temp("radio"),h+="</div>",f.html(h)}function add_options(){var f=$(this).parents(".cnt_input_box"),g=$(this).attr("data-option-text"),h=f.find(".select_list"),k=f.find(".select_add_list"),l=k.find("input:first"),m=f.find("select:first"),o="<i class=\"fa fa-close\"></i>";if("select"===g&&""!==l.val()){var p="<span class=\"delete\" data-rem-text=\"select\">"+o+"</span></li>";h.append("<li data-select-val=\""+l.val()+"\">"+l.val()+p),m.append("<option>"+l.val()+"</option>"),l.val("")}if("checkbox"===g){var q=f.find("label:first"),g=q.data("field-type"),r=q.text(),p="<div class=\"checkbox\">";p+="<label>",p+="<input type=\"checkbox\" name=\""+slugify(r.trim())+"\" value=\""+l.val()+"\">"+l.val(),p+="<span class=\"delete\" data-rem-text=\"checkbox\">"+o+"</span></li>",p+="</label>",p+="</div>",h.append(p),l.val("")}if("radio"===g){var q=f.find("label:first"),g=q.data("field-type"),r=q.text(),p="<div class=\"radio\">";p+="<label>",p+="<input type=\"radio\" name=\""+slugify(r.trim())+"\" value=\""+l.val()+"\">"+l.val(),p+="<span class=\"delete\" data-rem-text=\"radio\">"+o+"</span></li>",p+="</label>",p+="</div>",h.append(p),l.val("")}}function add_field_title(){var f=$(this).parents(".cnt_input_box"),g=f.find("label:first"),h=g.data("field-type"),k=g.text();if("input"===h&&(f.find("input:first").attr("name",slugify(k)),f.find("input:first").attr("placeholder",k.trim())),"text"===h&&(f.find("textarea:first").attr("name",slugify(k)),f.find("textarea:first").attr("placeholder",k.trim())),"select"===h){var l=f.find("select:first");l.attr("name",slugify(k)),l.attr("placeholder",k.trim()),l.find("option:first").text("-- "+k.trim()+" --")}if("checkbox"===h){var m=f.find(".checkbox"),o=m.find("input");o.attr("name",slugify(k.trim()))}if("radio"===h){console.log("Radio here");var m=f.find(".radio"),o=m.find("input");o.attr("name",slugify(k.trim()))}}function update_field_obj(){}function generate_form_data(){var f=__mr_box.clone(!0,!0),g=f.find(".cb_display_box"),h=f.find(".removable"),k=__html_btn,l=k.attr("data-code-btn");f.find(".removable, .delete, .remove_btn").remove(),f.removeClass("cb_display_box, no-drag"),__generate_box.html(""),g.each(function(){var p=$(this).find("h2:first"),q=$(this).find(".add_desc_box:first"),q=q.text().trim(),r="<div class=\"main-group-box\">";r+="<h2 class=\"group_title\">"+p.text()+"</h2>","-- Description text here"!==q&&""!==q&&(r+="<p>"+q+"</p>");var s=$(this).find(".form_row_box"),t="";s.each(function(){t+="<div class=\"row\">";for(var x=$(this).children(),y=0;y<x.length;y++){var z=$(this).find(".cnt_input_box"),A=x[y].getAttribute("class");t+="<div class=\""+A+"\">",t+=z[y].outerHTML,t+="</div>"}t+="</div>"}),r+=t,r+="</div>",__generate_box.append(r)}),__mr_box.hide(),__generate_box.show(),__mr_btn.hide(),k.attr("data-code-btn","editor"),k.html("<i class=\"fa fa-angle-double-left\"></i> Back")}function switch_view(){var f=__mr_box.clone(!0,!0),g=f.find(".cb_display_box"),h=$(this),k=h.attr("data-code-btn");"code"===k&&(g.find(".removable").remove(),__code_box.val(""),g.each(function(){var o=$(this).find("h2:first"),p=$(this).find(".add_desc_box:first"),p=p.text().trim(),q="<div class=\"main-group-box\">";q+="<h2 class=\"group_title\">"+o.text()+"</h2>","-- Description text here"!==p&&""!==p&&(q+="<p>"+p+"</p>");var r=$(this).find(".form_row_box"),s="";r.each(function(){s+="<div class=\"row\">";for(var x=$(this).children(),y=0;y<x.length;y++){var z=$(this).find(".cnt_input_box"),A=x[y].getAttribute("class");s+="<div class=\""+A+"\">",s+=z[y].outerHTML,s+="</div>"}s+="</div>"}),q+=s,q+="</div>";var t=__code_box.val();__code_box.val(t+q)}),__mr_box.hide(),__generate_box.hide(),__code_box.show(),h.attr("data-code-btn","editor"),h.html("<i class=\"fa fa-angle-double-left\"></i> Back")),"editor"===k&&(__code_box.hide(),__generate_box.hide(),__mr_box.show(),__mr_btn.show(),h.attr("data-code-btn","code"),h.html("View HTML <i class=\"fa fa-code\"></i>"))}function heading_text(){var f=$(this).parent(".desc_box"),g=f.find(".add_desc_box");$(this).hide(),g.show()}function remove_action(){var f=$(this),g=f.attr("data-remove-txt");if("main"===g){var h=$(this).parents(".cb_layer_box:first");h.remove()}if("inner_row"===g){var h=$(this).parents(".inner_col__box:first");h.remove()}if("field"===g){var k=f.parents(".field_box:first"),l=k.find(".form_field_select:first"),m=k.find("div:first");m.html("");var o=l.find("option")[0];l.val(o.innerText),l.show()}if("heading"===g){var k=f.parents(".desc_box"),f=k.find(".add_desc_btn"),h=k.find(".add_desc_box");h.find("span:first").text("-- Description text here"),h.hide(),f.show()}}function minimize_action(){var f=$(this),g=f.attr("data-minimize-txt");if("main"===g){var h=f.parents(".cb_layer_box:first"),k=h.find(".on_minimize:first"),l=h.find(".group_title:first"),m=h.find(".side_move_bar:first"),o=h.find(".minimize_box:first");o.is(":visible")?(h.addClass("minimize_cover"),o.hide(),f.html("<i class=\"fa fa-plus\"></i>"),k.html("<h2 class=\"group_title\">"+l.text()+"</h2>"),m.removeClass("cb_move_btn")):(k.html(""),h.removeClass("minimize_cover"),o.show(),f.html("<i class=\"fa fa-minus\"></i>"),m.addClass("cb_move_btn"))}if("inner_row"===g){var h=f.parents(".inner_col__box:first"),o=h.find(".form_row_box:first");o.is(":visible")?(o.hide(),f.html("<i class=\"fa fa-plus\"></i>")):(o.show(),f.html("<i class=\"fa fa-minus\"></i>"))}}function copy_action(){var f=$(this),g=f.attr("data-copy-txt");if("main"===g){var h=f.parents(".main_row_append_box:first"),k=f.parents(".cb_layer_box:first"),l=k.clone(!0,!0);k.after(l)}if("inner_row"===g){var h=f.parents(".inner_row_append_box:first"),k=f.parents(".inner_col__box:first"),l=k.clone(!0,!0);k.after(l)}}function remove_option(){var g,f=$(this).attr("data-rem-text");if(("checkbox"===f||"radio"===f)&&(g=$(this).parents("."+f+":first"),g.remove()),"select"===f){var h=$(this).parents(".cnt_input_box:first"),k=$(this).parent("li"),l=k.attr("data-select-val"),m=h.find("select"),o=m.find("option");o.each(function(p,q){l===q.innerText&&(k.remove(),q.remove(),console.log("Removed "+l))})}}function make_id(f){for(var g="",h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",k=0;k<f;k++)g+=h.charAt(Math.floor(Math.random()*h.length));return g}function slugify(f){return f.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"_").replace(/^-+/,"").replace(/-+$/,"")}__generate_btn.on("click",generate_form_data),__html_btn.on("click",switch_view),__col_btn.on("click",make_column),__mr_btn.on("click",add_main_row),__doc.on("click",".inner_row_btn",add_inner_row),__doc.on("change",".col_btn",add_column),__doc.on("change",".form_field_select",on_select_field),__doc.on("keyup",".in_field",add_field_title),__doc.on("click",".add_select_option",add_options),__doc.on("click",".delete",remove_option),__doc.on("click",".add_desc_btn",heading_text),__doc.on("click",".remove_btn",remove_action),__doc.on("click",".minimize_btn",minimize_action),__doc.on("click",".copy_btn",copy_action);