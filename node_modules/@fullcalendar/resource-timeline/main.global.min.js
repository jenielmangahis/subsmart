/*!
FullCalendar Scheduler v5.2.1
Docs & License: https://fullcalendar.io/scheduler
(c) 2020 Adam Shaw
*/
var FullCalendarResourceTimeline=function(e,t,r,n,o,i){"use strict";r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;var s="default"in n?n.default:n,l="default"in o?o.default:o,a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function c(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var d=function(){return(d=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function u(e){for(var r=e.depth,n=e.hasChildren,o=e.isExpanded,i=e.onExpanderClick,s=[],l=0;l<r;l++)s.push(t.createElement("span",{className:"fc-icon"}));var a=["fc-icon"];return n&&(o?a.push("fc-icon-minus-square"):a.push("fc-icon-plus-square")),s.push(t.createElement("span",{className:"fc-datagrid-expander"+(n?"":" fc-datagrid-expander-placeholder"),onClick:i},t.createElement("span",{className:a.join(" ")}))),t.createElement.apply(void 0,function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,l=i.length;s<l;s++,o++)n[o]=i[s];return n}([t.Fragment,{}],s))}var p=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.refineHookProps=t.memoizeObjArg(m),r.normalizeClassNames=t.buildClassNameNormalizer(),r.onExpanderClick=function(e){var t=r.props;t.hasChildren&&r.context.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:t.resource.id,isExpanded:!t.isExpanded})},r}return c(r,e),r.prototype.render=function(){var e=this,r=this.props,n=this.context,o=r.colSpec,i=this.refineHookProps({resource:r.resource,fieldValue:r.fieldValue,context:n}),s=this.normalizeClassNames(o.cellClassNames,i);return t.createElement(t.MountHook,{hookProps:i,didMount:o.cellDidMount,willUnmount:o.cellWillUnmount},(function(n){return t.createElement("td",{className:["fc-datagrid-cell","fc-resource"].concat(s).join(" "),"data-resource-id":r.resource.id,ref:n},t.createElement("div",{className:"fc-datagrid-cell-frame",style:{height:r.innerHeight}},t.createElement("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner"},o.isMain&&t.createElement(u,{depth:r.depth,hasChildren:r.hasChildren,isExpanded:r.isExpanded,onExpanderClick:e.onExpanderClick}),t.createElement(h,{hookProps:i,colSpec:o}))))}))},r}(t.BaseComponent),h=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return c(r,e),r.prototype.render=function(){var e=this.props;return t.createElement(t.ContentHook,{hookProps:e.hookProps,content:e.colSpec.cellContent,defaultContent:f},(function(e,r){return t.createElement("span",{className:"fc-datagrid-cell-main",ref:e},r)}))},r}(t.BaseComponent);function f(e){return e.fieldValue||t.createElement(t.Fragment,null," ")}function m(e){return{resource:new o.ResourceApi(e.context,e.resource),fieldValue:e.fieldValue,view:e.context.viewApi}}var g=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return c(r,e),r.prototype.render=function(){var e=this.props,r=this.context,n=e.colSpec,o={groupValue:e.fieldValue,view:r.viewApi};return t.createElement(t.RenderHook,{hookProps:o,classNames:n.cellClassNames,content:n.cellContent,defaultContent:C,didMount:n.cellDidMount,willUnmount:n.cellWillUnmount},(function(r,n,o,i){return t.createElement("td",{className:["fc-datagrid-cell","fc-resource-group"].concat(n).join(" "),rowSpan:e.rowSpan,ref:r},t.createElement("div",{className:"fc-datagrid-cell-frame fc-datagrid-cell-frame-liquid"}," ",t.createElement("div",{className:"fc-datagrid-cell-cushion fc-sticky",ref:o},i)))}))},r}(t.BaseComponent);function C(e){return e.groupValue||t.createElement(t.Fragment,null," ")}var R=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return c(r,e),r.prototype.render=function(){var e=this.props,r=e.resource,n=e.rowSpans,i=e.depth,s=o.buildResourceFields(r);return t.createElement("tr",null,e.colSpecs.map((function(l,a){var c=n[a];if(0!==c){null==c&&(c=1);var d=l.field?s[l.field]:r.title||o.getPublicId(r.id);return c>1?t.createElement(g,{key:a,colSpec:l,fieldValue:d,rowSpan:c}):t.createElement(p,{key:a,colSpec:l,resource:r,fieldValue:d,depth:i,hasChildren:e.hasChildren,isExpanded:e.isExpanded,innerHeight:e.innerHeight})}})))},r}(t.BaseComponent);R.addPropsEquality({rowSpans:t.isArraysEqual});var y=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.innerInnerRef=t.createRef(),r.onExpanderClick=function(){var e=r.props;r.context.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:e.id,isExpanded:!e.isExpanded})},r}return c(r,e),r.prototype.render=function(){var e=this,r=this.props,n=this.context,o={groupValue:r.group.value,view:n.viewApi},i=r.group.spec;return t.createElement("tr",null,t.createElement(t.RenderHook,{hookProps:o,classNames:i.labelClassNames,content:i.labelContent,defaultContent:v,didMount:i.labelDidMount,willUnmount:i.labelWillUnmount},(function(o,i,s,l){return t.createElement("td",{className:["fc-datagrid-cell","fc-resource-group",n.theme.getClass("tableCellShaded")].concat(i).join(" "),colSpan:r.spreadsheetColCnt,ref:o},t.createElement("div",{className:"fc-datagrid-cell-frame",style:{height:r.innerHeight}},t.createElement("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner",ref:e.innerInnerRef},t.createElement(u,{depth:0,hasChildren:!0,isExpanded:r.isExpanded,onExpanderClick:e.onExpanderClick}),t.createElement("span",{className:"fc-datagrid-cell-main",ref:s},l))))})))},r}(t.BaseComponent);function v(e){return e.groupValue||t.createElement(t.Fragment,null," ")}y.addPropsEquality({group:o.isGroupsEqual});var E=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.resizerElRefs=new t.RefMap(r._handleColResizerEl.bind(r)),r.colDraggings={},r}return c(r,e),r.prototype.render=function(){var e=this,r=this.props,n=r.colSpecs,o=r.superHeaderRendering,i=r.rowInnerHeights,s={view:this.context.viewApi},l=[];if(i=i.slice(),o){var a=i.shift();l.push(t.createElement("tr",{key:"row-super"},t.createElement(t.RenderHook,{hookProps:s,classNames:o.headerClassNames,content:o.headerContent,didMount:o.headerDidMount,willUnmount:o.headerWillUnmount},(function(e,r,o,i){return t.createElement("th",{colSpan:n.length,className:["fc-datagrid-cell","fc-datagrid-cell-super"].concat(r).join(" "),ref:e},t.createElement("div",{className:"fc-datagrid-cell-frame",style:{height:a}},t.createElement("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner",ref:o},i)))}))))}var c=i.shift();return l.push(t.createElement("tr",{key:"row"},n.map((function(r,o){var i=o===n.length-1;return t.createElement(t.RenderHook,{key:o,hookProps:s,classNames:r.headerClassNames,content:r.headerContent,didMount:r.headerDidMount,willUnmount:r.headerWillUnmount},(function(n,s,l,a){return t.createElement("th",{ref:n,className:["fc-datagrid-cell"].concat(s).join(" ")},t.createElement("div",{className:"fc-datagrid-cell-frame",style:{height:c}},t.createElement("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner"},r.isMain&&t.createElement("span",{className:"fc-datagrid-expander fc-datagrid-expander-placeholder"},t.createElement("span",{className:"fc-icon"})),t.createElement("span",{className:"fc-datagrid-cell-main",ref:l},a)),!i&&t.createElement("div",{className:"fc-datagrid-cell-resizer",ref:e.resizerElRefs.createRef(o)})))}))})))),t.createElement(t.Fragment,null,l)},r.prototype._handleColResizerEl=function(e,t){var r,n=this.colDraggings;e?(r=this.initColResizing(e,parseInt(t,10)))&&(n[t]=r):(r=n[t])&&(r.destroy(),delete n[t])},r.prototype.initColResizing=function(e,r){var n=this.context,o=n.pluginHooks,i=n.isRtl,s=this.props.onColWidthChange,l=o.elementDraggingImpl;if(l){var a,c,d=new l(e);return d.emitter.on("dragstart",(function(){var n=t.findElements(t.elementClosest(e,"tr"),"th");c=n.map((function(e){return t.elementClosest(e,"th").getBoundingClientRect().width})),a=c[r]})),d.emitter.on("dragmove",(function(e){c[r]=Math.max(a+e.deltaX*(i?-1:1),20),s&&s(c.slice())})),d.setAutoScrollEnabled(!1),d}},r}(t.BaseComponent),w=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.refineHookProps=t.memoizeObjArg(N),r.normalizeClassNames=t.buildClassNameNormalizer(),r.handleHeightChange=function(e,n){r.props.onHeightChange&&r.props.onHeightChange(t.elementClosest(e,"tr"),n)},r}return c(r,e),r.prototype.render=function(){var e=this,r=this.props,o=this.context,i=o.options,s=this.refineHookProps({resource:r.resource,context:o}),l=this.normalizeClassNames(i.resourceLaneClassNames,s);return t.createElement("tr",{ref:r.elRef},t.createElement(t.MountHook,{hookProps:s,didMount:i.resourceLaneDidMount,willUnmount:i.resourceLaneWillUnmount},(function(o){return t.createElement("td",{ref:o,className:["fc-timeline-lane","fc-resource"].concat(l).join(" "),"data-resource-id":r.resource.id},t.createElement("div",{className:"fc-timeline-lane-frame",style:{height:r.innerHeight}},t.createElement(S,{resource:r.resource}),t.createElement(n.TimelineLane,{dateProfile:r.dateProfile,tDateProfile:r.tDateProfile,nowDate:r.nowDate,todayRange:r.todayRange,nextDayThreshold:r.nextDayThreshold,businessHours:r.businessHours,eventStore:r.eventStore,eventUiBases:r.eventUiBases,dateSelection:r.dateSelection,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,timelineCoords:r.timelineCoords,onHeightChange:e.handleHeightChange})))})))},r}(t.BaseComponent),S=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return c(r,e),r.prototype.render=function(){var e=this.props,r=this.context,n={resource:new o.ResourceApi(r,e.resource)};return t.createElement(t.ContentHook,{hookProps:n,content:r.options.resourceLaneContent},(function(e,r){return r&&t.createElement("div",{className:"fc-timeline-lane-misc",ref:e},r)}))},r}(t.BaseComponent);function N(e){return{resource:new o.ResourceApi(e.context,e.resource)}}var H=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return c(r,e),r.prototype.render=function(){var e=this,r=this.props,n=this.props.renderingHooks,o={groupValue:r.groupValue,view:this.context.viewApi};return t.createElement("tr",{ref:r.elRef},t.createElement(t.RenderHook,{hookProps:o,classNames:n.laneClassNames,content:n.laneContent,didMount:n.laneDidMount,willUnmount:n.laneWillUnmount},(function(n,o,i,s){return t.createElement("td",{className:["fc-timeline-lane","fc-resource-group",e.context.theme.getClass("tableCellShaded")].concat(o).join(" "),ref:n},t.createElement("div",{style:{height:r.innerHeight},ref:i},s))})))},r}(t.BaseComponent),b=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.rootElRef=t.createRef(),r.rowElRefs=new t.RefMap,r}return c(r,e),r.prototype.render=function(){var e=this.props,r=this.context;return t.createElement("table",{ref:this.rootElRef,className:"fc-scrollgrid-sync-table "+r.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},t.createElement(D,{rowElRefs:this.rowElRefs,rowNodes:e.rowNodes,dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange,splitProps:e.splitProps,fallbackBusinessHours:e.fallbackBusinessHours,slatCoords:e.slatCoords,innerHeights:e.innerHeights,onRowHeightChange:e.onRowHeightChange}))},r.prototype.componentDidMount=function(){this.updateCoords()},r.prototype.componentDidUpdate=function(){this.updateCoords()},r.prototype.componentWillUnmount=function(){this.props.onRowCoords&&this.props.onRowCoords(null)},r.prototype.updateCoords=function(){var e,r=this.props;r.onRowCoords&&null!==r.clientWidth&&this.props.onRowCoords(new t.PositionCache(this.rootElRef.current,(e=this.rowElRefs.currentMap,r.rowNodes.map((function(t){return e[t.id]}))),!1,!0))},r}(t.BaseComponent);var D=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return c(r,e),r.prototype.render=function(){var e=this.props,r=this.context,n=e.rowElRefs,o=e.innerHeights;return t.createElement("tbody",null,e.rowNodes.map((function(i,s){if(i.group)return t.createElement(H,{key:i.id,elRef:n.createRef(i.id),groupValue:i.group.value,renderingHooks:i.group.spec,innerHeight:o[s]||""});if(i.resource){var l=i.resource;return t.createElement(w,d({key:i.id,elRef:n.createRef(i.id)},e.splitProps[l.id],{resource:l,dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange,nextDayThreshold:r.options.nextDayThreshold,businessHours:l.businessHours||e.fallbackBusinessHours,innerHeight:o[s]||"",timelineCoords:e.slatCoords,onHeightChange:e.onRowHeightChange}))}})))},r}(t.BaseComponent),k=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.computeHasResourceBusinessHours=t.memoize(x),r.resourceSplitter=new o.ResourceSplitter,r.bgSlicer=new n.TimelineLaneSlicer,r.slatsRef=t.createRef(),r.state={slatCoords:null},r.handleEl=function(e){e?r.context.registerInteractiveComponent(r,{el:e}):r.context.unregisterInteractiveComponent(r)},r.handleSlatCoords=function(e){r.setState({slatCoords:e}),r.props.onSlatCoords&&r.props.onSlatCoords(e)},r.handleRowCoords=function(e){r.rowCoords=e,r.props.onRowCoords&&r.props.onRowCoords(e)},r}return c(r,e),r.prototype.render=function(){var e=this,r=this.props,o=this.state,i=this.context,s=r.dateProfile,l=r.tDateProfile,a=t.greatestDurationDenominator(l.slotDuration).unit,c=this.computeHasResourceBusinessHours(r.rowNodes),d=this.resourceSplitter.splitProps(r),u=d[""],p=this.bgSlicer.sliceProps(u,s,l.isTimeScale?null:r.nextDayThreshold,i,s,i.dateProfileGenerator,l,i.dateEnv),h=o.slatCoords&&o.slatCoords.dateProfile===r.dateProfile?o.slatCoords:null;return t.createElement("div",{ref:this.handleEl,className:"fc-timeline-body",style:{minWidth:r.tableMinWidth}},t.createElement(t.NowTimer,{unit:a},(function(o,a){return t.createElement(t.Fragment,null,t.createElement(n.TimelineSlats,{ref:e.slatsRef,dateProfile:s,tDateProfile:l,nowDate:o,todayRange:a,clientWidth:r.clientWidth,tableColGroupNode:r.tableColGroupNode,tableMinWidth:r.tableMinWidth,onCoords:e.handleSlatCoords,onScrollLeftRequest:r.onScrollLeftRequest}),t.createElement(n.TimelineLaneBg,{businessHourSegs:c?null:p.businessHourSegs,bgEventSegs:p.bgEventSegs,timelineCoords:h,eventResizeSegs:p.eventResize?p.eventResize.segs:[],dateSelectionSegs:p.dateSelectionSegs,nowDate:o,todayRange:a}),t.createElement(b,{rowNodes:r.rowNodes,dateProfile:s,tDateProfile:r.tDateProfile,nowDate:o,todayRange:a,splitProps:d,fallbackBusinessHours:c?r.businessHours:null,clientWidth:r.clientWidth,minHeight:r.expandRows?r.clientHeight:"",tableMinWidth:r.tableMinWidth,innerHeights:r.rowInnerHeights,slatCoords:h,onRowCoords:e.handleRowCoords,onRowHeightChange:r.onRowHeightChange}),i.options.nowIndicator&&h&&h.isDateInRange(o)&&t.createElement("div",{className:"fc-timeline-now-indicator-container"},t.createElement(t.NowIndicatorRoot,{isAxis:!1,date:o},(function(e,r,n,i){return t.createElement("div",{ref:e,className:["fc-timeline-now-indicator-line"].concat(r).join(" "),style:{left:h.dateToCoord(o)}},i)}))))})))},r.prototype.queryHit=function(e,t){var r=this.rowCoords,n=r.topToIndex(t);if(null!=n){var o=this.props.rowNodes[n].resource;if(o){var i=this.slatsRef.current.positionToHit(e);if(i)return{component:this,dateSpan:{range:i.dateSpan.range,allDay:i.dateSpan.allDay,resourceId:o.id},rect:{left:i.left,right:i.right,top:r.tops[n],bottom:r.bottoms[n]},dayEl:i.dayEl,layer:0}}}},r}(t.DateComponent);function x(e){for(var t=0,r=e;t<r.length;t++){var n=r[t].resource;if(n&&n.businessHours)return!0}return!1}var P=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.scrollGridRef=t.createRef(),r.timeBodyScrollerElRef=t.createRef(),r.spreadsheetHeaderChunkElRef=t.createRef(),r.rootElRef=t.createRef(),r.state={resourceAreaWidthOverride:null},r}return c(r,e),r.prototype.render=function(){var e=this.props,r=this.state,n=this.context,o=n.options,s=!e.forPrint&&t.getStickyHeaderDates(o),l=!e.forPrint&&t.getStickyFooterScrollbar(o),a=[{type:"header",key:"header",syncRowHeights:!0,isSticky:s,chunks:[{key:"datagrid",elRef:this.spreadsheetHeaderChunkElRef,tableClassName:"fc-datagrid-header",rowContent:e.spreadsheetHeaderRows},{key:"divider",outerContent:t.createElement("td",{className:"fc-resource-timeline-divider "+n.theme.getClass("tableCellShaded")})},{key:"timeline",content:e.timeHeaderContent}]},{type:"body",key:"body",syncRowHeights:!0,liquid:!0,expandRows:Boolean(o.expandRows),chunks:[{key:"datagrid",tableClassName:"fc-datagrid-body",rowContent:e.spreadsheetBodyRows},{key:"divider",outerContent:t.createElement("td",{className:"fc-resource-timeline-divider "+n.theme.getClass("tableCellShaded")})},{key:"timeline",scrollerElRef:this.timeBodyScrollerElRef,content:e.timeBodyContent}]}];l&&a.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"datagrid",content:t.renderScrollShim},{key:"divider",outerContent:t.createElement("td",{className:"fc-resource-timeline-divider "+n.theme.getClass("tableCellShaded")})},{key:"timeline",content:t.renderScrollShim}]});var c=null!=r.resourceAreaWidthOverride?r.resourceAreaWidthOverride:o.resourceAreaWidth;return t.createElement(i.ScrollGrid,{ref:this.scrollGridRef,elRef:this.rootElRef,liquid:!e.isHeightAuto&&!e.forPrint,colGroups:[{cols:e.spreadsheetCols,width:c},{cols:[]},{cols:e.timeCols}],sections:a})},r.prototype.forceTimeScroll=function(e){this.scrollGridRef.current.forceScrollLeft(2,e)},r.prototype.forceResourceScroll=function(e){this.scrollGridRef.current.forceScrollTop(1,e)},r.prototype.getResourceScroll=function(){return this.timeBodyScrollerElRef.current.scrollTop},r.prototype.componentDidMount=function(){this.initSpreadsheetResizing()},r.prototype.componentWillUnmount=function(){this.destroySpreadsheetResizing()},r.prototype.initSpreadsheetResizing=function(){var e=this,t=this.context,r=t.isRtl,n=t.pluginHooks.elementDraggingImpl,o=this.spreadsheetHeaderChunkElRef.current;if(n){var i,s,l=this.rootElRef.current,a=this.spreadsheetResizerDragging=new n(l,".fc-resource-timeline-divider");a.emitter.on("dragstart",(function(){i=o.getBoundingClientRect().width,s=l.getBoundingClientRect().width})),a.emitter.on("dragmove",(function(t){var n=i+t.deltaX*(r?-1:1);n=Math.max(n,30),n=Math.min(n,s-30),e.setState({resourceAreaWidthOverride:n})})),a.setAutoScrollEnabled(!1)}},r.prototype.destroySpreadsheetResizing=function(){this.spreadsheetResizerDragging&&this.spreadsheetResizerDragging.destroy()},r}(t.BaseComponent),W=function(e){function r(r,i){var s=e.call(this,r,i)||this;return s.processColOptions=t.memoize(A),s.buildTimelineDateProfile=t.memoize(n.buildTimelineDateProfile),s.hasNesting=t.memoize(U),s.buildRowNodes=t.memoize(o.buildRowNodes),s.layoutRef=t.createRef(),s.rowNodes=[],s.renderedRowNodes=[],s.buildRowIndex=t.memoize(M),s.handleSlatCoords=function(e){s.setState({slatCoords:e})},s.handleRowCoords=function(e){s.rowCoords=e,s.scrollResponder.update(!1)},s.handleMaxCushionWidth=function(e){s.setState({slotCushionMaxWidth:Math.ceil(e)})},s.handleScrollLeftRequest=function(e){s.layoutRef.current.forceTimeScroll(e)},s.handleScrollRequest=function(e){var t=s.rowCoords,r=s.layoutRef.current,n=e.rowId||e.resourceId;if(t){if(n){var o=s.buildRowIndex(s.renderedRowNodes)[n];if(null!=o){var i=null!=e.fromBottom?t.bottoms[o]-e.fromBottom:t.tops[o];r.forceResourceScroll(i)}}return!0}},s.handleColWidthChange=function(e){s.setState({spreadsheetColWidths:e})},s.state={resourceAreaWidth:i.options.resourceAreaWidth,spreadsheetColWidths:[]},s}return c(r,e),r.prototype.render=function(){var e=this,r=this.props,o=this.state,i=this.context,s=i.options,l=i.viewSpec,a=this.processColOptions(i.options),c=a.superHeaderRendering,d=a.groupSpecs,u=a.orderSpecs,p=a.isVGrouping,h=a.colSpecs,f=this.buildTimelineDateProfile(r.dateProfile,i.dateEnv,s,i.dateProfileGenerator),m=this.rowNodes=this.buildRowNodes(r.resourceStore,d,u,p,r.resourceEntityExpansions,s.resourcesInitiallyExpanded),g=["fc-resource-timeline",this.hasNesting(m)?"":"fc-resource-timeline-flat","fc-timeline",!1===s.eventOverlap?"fc-timeline-overlap-disabled":"fc-timeline-overlap-enabled"],C=s.slotMinWidth,R=n.buildSlatCols(f,C||this.computeFallbackSlotMinWidth(f));return t.createElement(t.ViewRoot,{viewSpec:l},(function(s,l){return t.createElement("div",{ref:s,className:g.concat(l).join(" ")},t.createElement(P,{ref:e.layoutRef,forPrint:r.forPrint,isHeightAuto:r.isHeightAuto,spreadsheetCols:T(h,o.spreadsheetColWidths,""),spreadsheetHeaderRows:function(r){return t.createElement(E,{superHeaderRendering:c,colSpecs:h,onColWidthChange:e.handleColWidthChange,rowInnerHeights:r.rowSyncHeights})},spreadsheetBodyRows:function(r){return t.createElement(t.Fragment,null,e.renderSpreadsheetRows(m,h,r.rowSyncHeights))},timeCols:R,timeHeaderContent:function(i){return t.createElement(n.TimelineHeader,{clientWidth:i.clientWidth,clientHeight:i.clientHeight,tableMinWidth:i.tableMinWidth,tableColGroupNode:i.tableColGroupNode,dateProfile:r.dateProfile,tDateProfile:f,slatCoords:o.slatCoords,rowInnerHeights:i.rowSyncHeights,onMaxCushionWidth:C?null:e.handleMaxCushionWidth})},timeBodyContent:function(n){return t.createElement(k,{dateProfile:r.dateProfile,clientWidth:n.clientWidth,clientHeight:n.clientHeight,tableMinWidth:n.tableMinWidth,tableColGroupNode:n.tableColGroupNode,expandRows:n.expandRows,tDateProfile:f,rowNodes:m,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,resourceStore:r.resourceStore,nextDayThreshold:i.options.nextDayThreshold,rowInnerHeights:n.rowSyncHeights,onSlatCoords:e.handleSlatCoords,onRowCoords:e.handleRowCoords,onScrollLeftRequest:e.handleScrollLeftRequest,onRowHeightChange:n.reportRowHeightChange})}}))}))},r.prototype.renderSpreadsheetRows=function(e,r,n){return e.map((function(e,o){return e.group?t.createElement(y,{key:e.id,id:e.id,spreadsheetColCnt:r.length,isExpanded:e.isExpanded,group:e.group,innerHeight:n[o]||""}):e.resource?t.createElement(R,{key:e.id,colSpecs:r,rowSpans:e.rowSpans,depth:e.depth,isExpanded:e.isExpanded,hasChildren:e.hasChildren,resource:e.resource,innerHeight:n[o]||""}):void 0}))},r.prototype.componentDidMount=function(){this.renderedRowNodes=this.rowNodes,this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},r.prototype.getSnapshotBeforeUpdate=function(){return this.props.forPrint?{}:{resourceScroll:this.queryResourceScroll()}},r.prototype.componentDidUpdate=function(e,t,r){this.renderedRowNodes=this.rowNodes,this.scrollResponder.update(e.dateProfile!==this.props.dateProfile),r.resourceScroll&&this.handleScrollRequest(r.resourceScroll)},r.prototype.componentWillUnmount=function(){this.scrollResponder.detach()},r.prototype.computeFallbackSlotMinWidth=function(e){return Math.max(30,(this.state.slotCushionMaxWidth||0)/e.slotsPerLabel)},r.prototype.queryResourceScroll=function(){var e=this.rowCoords,t=this.renderedRowNodes;if(e){for(var r=this.layoutRef.current,n=e.bottoms,o=r.getResourceScroll(),i={},s=0;s<n.length;s++){var l=t[s],a=n[s]-o;if(a>0){i.rowId=l.id,i.fromBottom=a;break}}return i}},r}(t.BaseComponent);function M(e){for(var t={},r=0;r<e.length;r++)t[e[r].id]=r;return t}function T(e,t,r){return void 0===r&&(r=""),e.map((function(e,n){return{className:e.isMain?"fc-main-col":"",width:t[n]||e.width||r}}))}function U(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];if(n.group)return!0;if(n.resource&&n.hasChildren)return!0}return!1}function A(e){var t=e.resourceAreaColumns||[],r=null;t.length?e.resourceAreaHeaderContent&&(r={headerClassNames:e.resourceAreaHeaderClassNames,headerContent:e.resourceAreaHeaderContent,headerDidMount:e.resourceAreaHeaderDidMount,headerWillUnmount:e.resourceAreaHeaderWillUnmount}):t.push({headerClassNames:e.resourceAreaHeaderClassNames,headerContent:e.resourceAreaHeaderContent||"Resources",headerDidMount:e.resourceAreaHeaderDidMount,headerWillUnmount:e.resourceAreaHeaderWillUnmount});for(var n=[],i=[],s=[],l=!1,a=0,c=t;a<c.length;a++){var u=c[a];u.group?i.push(d(d({},u),{cellClassNames:u.cellClassNames||e.resourceGroupLabelClassNames,cellContent:u.cellContent||e.resourceGroupLabelContent,cellDidMount:u.cellDidMount||e.resourceGroupLabelDidMount,cellWillUnmount:u.cellWillUnmount||e.resourceGroupLaneWillUnmount})):n.push(u)}var p=n[0];if(p.isMain=!0,p.cellClassNames=p.cellClassNames||e.resourceLabelClassNames,p.cellContent=p.cellContent||e.resourceLabelContent,p.cellDidMount=p.cellDidMount||e.resourceLabelDidMount,p.cellWillUnmount=p.cellWillUnmount||e.resourceLabelWillUnmount,i.length)s=i,l=!0;else{var h=e.resourceGroupField;h&&s.push({field:h,labelClassNames:e.resourceGroupLabelClassNames,labelContent:e.resourceGroupLabelContent,labelDidMount:e.resourceGroupLabelDidMount,labelWillUnmount:e.resourceGroupLabelWillUnmount,laneClassNames:e.resourceGroupLaneClassNames,laneContent:e.resourceGroupLaneContent,laneDidMount:e.resourceGroupLaneDidMount,laneWillUnmount:e.resourceGroupLaneWillUnmount})}for(var f=[],m=0,g=e.resourceOrder||o.DEFAULT_RESOURCE_ORDER;m<g.length;m++){for(var C=g[m],R=!1,y=0,v=s;y<v.length;y++){var E=v[y];if(E.field===C.field){E.order=C.order,R=!0;break}}R||f.push(C)}return{superHeaderRendering:r,isVGrouping:l,groupSpecs:s,colSpecs:i.concat(n),orderSpecs:f}}W.addStateEquality({spreadsheetColWidths:t.isArraysEqual});var B=t.createPlugin({deps:[r,l,s],initialView:"resourceTimelineDay",views:{resourceTimeline:{type:"timeline",component:W,needsResourceData:!0,resourceAreaWidth:"30%",resourcesInitiallyExpanded:!0,eventResizableFromStart:!0},resourceTimelineDay:{type:"resourceTimeline",duration:{days:1}},resourceTimelineWeek:{type:"resourceTimeline",duration:{weeks:1}},resourceTimelineMonth:{type:"resourceTimeline",duration:{months:1}},resourceTimelineYear:{type:"resourceTimeline",duration:{years:1}}}});return t.globalPlugins.push(B),e.ResourceTimelineLane=w,e.ResourceTimelineView=W,e.SpreadsheetRow=R,e.default=B,e}({},FullCalendar,FullCalendarPremiumCommon,FullCalendarTimeline,FullCalendarResourceCommon,FullCalendarScrollGrid);